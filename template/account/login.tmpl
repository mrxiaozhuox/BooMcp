{{ define "account/login.tmpl" }}

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}} | Sigin In</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/mdui/1.0.2/css/mdui.min.css" rel="stylesheet" />
</head>

<body class="mdui-color-blue-grey-50">


    <div class="mdui-container"><br />
        <div class="mdui-card">

            <!-- å¡ç‰‡çš„æ ‡é¢˜å’Œå‰¯æ ‡é¢˜ -->
            <div class="mdui-card-primary">
                <div class="mdui-card-primary-title">ç™»å½• | <a href="/">ğŸŒ†</a></div>
            </div>

            <!-- å¡ç‰‡çš„å†…å®¹ -->
            <div class="mdui-card-content">

                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">ç”¨æˆ·é‚®ç®±</label>
                    <input class="mdui-textfield-input" type="email" id="email" />
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">ç”¨æˆ·å¯†ç </label>
                    <input class="mdui-textfield-input" type="password" id="password" />
                </div>

                <div style="float: right;">
                    <a href="/register">ç«‹åˆ»æ³¨å†Œ</a> æˆ–
                    <a href="/resetpwd">æ‰¾å›è´¦å·</a>
                </div>

                <button class="mdui-btn mdui-btn-block mdui-ripple mdui-color-indigo" id="sign-in">
                    ç™»å½•
                </button>
            </div>

        </div><br />
        <div class="mdui-card">
            <!-- å¡ç‰‡çš„å†…å®¹ -->
            <div class="mdui-card-content" style="text-align:center;">
                Powered By <a href="https://mrxzx.info/">mrxzx.info</a>
            </div>

        </div>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/mdui/1.0.2/js/mdui.min.js"></script>

    <script>
        console.log("è¿™æ˜¯ä¸€ä¸ªå‰ç«¯UIåºŸç‰©åšçš„é¡µé¢qwq - mrxzx.info")

        $("#sign-in").click(function() {

            let email = $("#email").val()
            let password = $("#password").val()

            if (email === "" || password === "") {
                return;
            }

            $.ajax("/api/login",{
                type: "POST",
                data: {
                    email: email,
                    password: password,
                },
                success: function(res, status) {
                    mdui.alert("ç™»å½•æˆåŠŸï¼Œå°†åœ¨å‡ ç§’åè‡ªåŠ¨è·³è½¬åˆ°ä¸ªäººä¸»é¡µï¼","ç™»å½•")
                    setTimeout(function (){
                        window.location = "/center/?from=login"
                    }, 2000)
                },
                error: function() {
                    mdui.alert("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·ä¿¡æ¯åé‡è¯•ã€‚","ç™»å½•")
                }
            })

        })

    </script>

</body>

</html>

{{ end }}